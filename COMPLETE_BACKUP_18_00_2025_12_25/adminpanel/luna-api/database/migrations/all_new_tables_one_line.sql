CREATE TABLE IF NOT EXISTS `carts` (`id` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT, `user_id` BIGINT UNSIGNED NOT NULL, `product_id` BIGINT UNSIGNED NOT NULL, `quantity` INT NOT NULL DEFAULT 1, `created_at` TIMESTAMP NULL, `updated_at` TIMESTAMP NULL, PRIMARY KEY (`id`), UNIQUE KEY `carts_user_id_product_id_unique` (`user_id`, `product_id`), KEY `carts_user_id_index` (`user_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci; CREATE TABLE IF NOT EXISTS `user_addresses` (`id` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT, `user_id` BIGINT UNSIGNED NOT NULL, `name` VARCHAR(255) NOT NULL, `email` VARCHAR(255) NULL, `phone` VARCHAR(20) NOT NULL, `address` TEXT NOT NULL, `city` VARCHAR(100) NOT NULL, `state` VARCHAR(100) NULL, `country` VARCHAR(100) NOT NULL, `postal_code` VARCHAR(20) NULL, `is_default` TINYINT(1) NOT NULL DEFAULT 0, `created_at` TIMESTAMP NULL, `updated_at` TIMESTAMP NULL, PRIMARY KEY (`id`), KEY `user_addresses_user_id_index` (`user_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci; CREATE TABLE IF NOT EXISTS `notifications` (`id` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT, `user_id` BIGINT UNSIGNED NOT NULL, `title` VARCHAR(255) NOT NULL, `message` TEXT NOT NULL, `type` VARCHAR(255) NOT NULL DEFAULT 'info', `link` VARCHAR(255) NULL, `is_read` TINYINT(1) NOT NULL DEFAULT 0, `read_at` TIMESTAMP NULL, `created_at` TIMESTAMP NULL, `updated_at` TIMESTAMP NULL, PRIMARY KEY (`id`), KEY `notifications_user_id_is_read_index` (`user_id`, `is_read`), KEY `notifications_created_at_index` (`created_at`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci; CREATE TABLE IF NOT EXISTS `chat_messages` (`id` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT, `user_id` BIGINT UNSIGNED NOT NULL, `message` TEXT NOT NULL, `type` ENUM('text', 'image', 'file') NOT NULL DEFAULT 'text', `sender` ENUM('user', 'admin') NOT NULL DEFAULT 'user', `is_read` TINYINT(1) NOT NULL DEFAULT 0, `created_at` TIMESTAMP NULL, `updated_at` TIMESTAMP NULL, PRIMARY KEY (`id`), KEY `chat_messages_user_id_created_at_index` (`user_id`, `created_at`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;




